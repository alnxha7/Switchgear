{% extends 'layout/base.html'%} {% load static %} 
{% block title%}
  Project Management
{% endblock title%}
{% block content %}

<style>
  table {
  border-collapse: collapse;
}

td, th {
  border: 1px solid black;
}
</style>

  <!-- Content Wrapper. Contains page content -->
  <div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <section class="content-header">
      <div class="container-fluid">
        <div class="row mb-2">
          <div class="col-sm-6">
            <h1>Project Estimate</h1>
          </div>
          <div class="col-sm-6">
            <ol class="breadcrumb float-sm-right">
              <li class="breadcrumb-item"><a href="{% url 'Dashboard' %}">Home</a></li>
              <li class="breadcrumb-item active"><a href="{% url 'projectestimate' %}"> Project Estimate</a></li>
            </ol>
          </div>
        </div>
      </div><!-- /.container-fluid -->
    </section>

    <div>
      {% if messages %} {% for message in messages %}
              <div class="alert alert-{{ message.tags }}" id="message{{ forloop.counter }}">
                {{ message }}
              </div>
            {% endfor %}
              <script>
                setTimeout(function () {
                $(".alert").fadeOut("slow");
                }, 2000); // Adjust the delay (in milliseconds) as needed
              </script>
            {% endif %} 
    </div>

    <!-- Main content -->
    <section class="content">
      <div class="row">
        <div class="col-md-8">
          <div class="card card-primary">
            <div class="card-header">
              <h3 class="card-title">Project Estimate </h3>

              
            </div>
            <div class="card-body">
              <div class="form-group">
                <label for="productName">Product Name</label>
                <select name="prdct" id="prdct" class="form-control">
                  <option value="ELCB">ELCB</option>
                  <option value="MCCB">MCCB</option>
                  <option value="SWITCH GEAR">SWITCH GEAR</option>
                  <option value="PANELS">PANEL</option>
                </select>
                <!-- <input type="text" id="productName" class="form-control" readonly> -->
              </div>
              <div class="form-group">
                <label for="ppu">Price Per Unit</label>
                <input type='number' id="ppu" class="form-control" >
              </div>
              <div class="form-group">
                <label for="quantity">Quantity</label>
                <input type="number" id="quantity" class="form-control" >
              </div>
              <div class="form-group">
                <label for="quantity">Total Price</label>
                <input type="text" id="total" class="form-control" >
              </div>
              
            </div>
            <!-- /.card-body -->
          </div>
          <!-- /.card -->
        </div>
        
      </div>
      <div class="row">
        <div class="col-12">
          <a href="#" class="btn btn-secondary" onclick="addData()">Submit</a>
          <!-- <input type="submit" value="Create new Porject" class="btn btn-success float-right"> -->
        </div>
      </div>
   
<BR>
  <BR>

  

<table  style="width: 100%;visibility: hidden;position:relative" border="1px" id="tab2" >
  <thead>
  <tr>
<th colspan="6"><h1 style="text-align: center;">ESTIMATION TABLE</h1></th>
</tr>
<tr>
<th>SL NO</th>
<th>PRODUCT</th>
<th>PRICE</th>
<th>QUANTITY</th>
<th>TOTAL</th>
</tr>

</thead>
<tbody>
 
<!-- <tr>
  <td>
    <button>
      SUB_TOTAL
    </button>
  </td>
  <td>
<input type="text" id="subtot">
  </td>
</tr>
<tr>
  <td>
    <label for="labourcost">LABOUR COST</label>
  </td>
  <td>
<input type="text" id="labourcost">
  </td>
</tr> -->
  
</tbody>

</table>
<br>
<br>
<table  style="width: 100%;position:relative" border="1px" id="tab3" >
  <tr>
    <td>
      <div class="col-12">
        <label for="ppu">LABOUR COST</label>
        
        
      </div> 
    </td>
    <td>
      <div class="col-12">
      <input type='number' id="lcost" class="form-control" ></div>
    </td>
  </tr>
  <tr>
    <td>
      <div class="col-12">
        <label for="ppu">TOTAL ESTIMATION</label>
        
      </div> 
    </td>
    <td>
      <div class="col-12">
      <input type='number' id="estimate" class="form-control" >
      </div>
    </td>
  </tr>
</table>
<br>
<br>
<div class="row">
  <div class="col-12">
    <a href="#" class="btn btn-primary" >DOWNLOAD ESTIMATE</a>
    
  </div>
</div>
<script>


function addData() {
document.getElementById("tab2").style.visibility = "visible";

debugger;
var x = document.getElementsByTagName("tr");
var table = document.getElementById("tab2");
var prdct=document.getElementById("prdct").value;
var ppu=document.getElementById("ppu").value;
var quan=document.getElementById("quantity").value;
var tot=document.getElementById("total").value;
var row = table.insertRow(-1);
var cell1 = row.insertCell(0);
var cell2 = row.insertCell(1);
var cell3 = row.insertCell(2);
var cell4 = row.insertCell(3);
var cell5 = row.insertCell(4);



    
cell1.innerHTML = x.length-2;
cell2.innerHTML = prdct;
cell3.innerHTML = ppu;
cell4.innerHTML = quan;
cell5.innerHTML = tot;

}

</script>

</section>
<!-- /.content -->
</div>
<!-- /.content-wrapper -->
<!-- ./wr1apper -->
</div>

{% endblock content %}
