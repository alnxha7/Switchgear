{% extends 'layout/base.html' %}
{% load static %}

{% block title %}
   Project Management
{% endblock title %}

{% block content %}
<style>
    .new-form {
        margin: auto;
        display: flex;
        flex-direction: row;
        justify-content: center;
        align-items: center;
    }
</style>

<div class="content-wrapper">
    <section class="content-header">
        <div class="container-fluid">
            <div class="row mb-2">
                <div class="col-sm-6">
                    <h1>Edit Project Details</h1>
                </div>
                <div class="col-sm-6">
                    <ol class="breadcrumb float-sm-right">
                        <li class="breadcrumb-item"><a href="{% url 'Dashboard' %}">Home</a></li>
                        <li class="breadcrumb-item active">Edit Project</li>
                    </ol>
                </div>
            </div>
        </div>
    </section>

    <section class="content">
        <div class="container-fluid">
            <div class="row new-form">
                <div class="col-md-12">
                    <div class="card card-primary">
                        <div class="card-header">
                            <h3 class="card-title">Edit Details</h3>
                            {% if messages %}
                            {% for message in messages %}
                            {% if message.tags == "error" %}
                            <div class="alert alert-warning">
                              {{message}}
                            </div>
                            {% else %}
                            <div class="alert alert-success">
                              {{message}}
                            </div>
                            {% endif %}
                            {% endfor %}
                            {% endif %}
                        </div>
                        <form role="form" method="POST" action="{% url 'editproject' pk=project.pk %}" enctype="multipart/form-data">
                            {% csrf_token %}
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-sm-4">
                                        <div class="form-group">
                                            <label for="project_code">Project Code</label>
                                            <input type="text" class="form-control" id="project_code" name="project_code"
                                                placeholder="Enter Code" value="{{ project.project_code }}" readonly>
                                        </div>
                                    </div>
                                    <div class="col-sm-8">
                                        <div class="form-group">
                                            <label for="project_name">Project Name</label>
                                            <input type="text" class="form-control" id="project_name" name="project_name"
                                                placeholder="Enter Project Name" value="{{ project.project_name }}" required>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-6">
                                        <div class="form-group">
                                            <label for="consultant">Consultant</label>
                                            <input type="text" class="form-control" id="consultant" name="consultant"
                                        placeholder="Enter Name" value="{{ project.consultant }}" required>
                                        </div>
                                    </div>
                                    
                                    <div class="col-sm-6">
                                        <div class="form-group">
                                            <label for="projectstatus">Project Status</label>
                                          <select class="form-select" aria-label="Default select example" name="status">
                                            
                                            <option value="on-progress">Ongoing</option>
                                            <option value="completed">Completed</option>
                                          </select>
                                        </div>
                                      </div>
                                </div>
                           
                                <div class="row">
                                    <div class="col-sm-4">
                                        <div class="form-group">
                                            <label for="client_name">Client Name</label>
                                            <input type="text" class="form-control" id="client_name" name="client_name"
                                                placeholder="Enter Name" value="{{ project.client_name }}" required>
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="form-group">
                                            <label for="client_number">Client Number</label>
                                            <input type="number" class="form-control" id="client_number" name="client_number"
                                                placeholder="Enter Mob No" value="{{ project.client_number }}">
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="form-group">
                                            <label for="client_email">Client Email</label>
                                            <input type="email" class="form-control" id="client_email" name="client_email"
                                                placeholder="Enter Email" value="{{ project.client_email }}" required>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-6">
                                        <div class="form-group">
                                            <label for="upload_loadschedule">Upload Load Schedule</label>
                                            <input type="file" class="form-control" id="upload_loadschedule" name="upload_loadschedule" placeholder="Upload Load Schedule" value="project.upload_loadschedule">
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div class="form-group">
                                            <label for="upload_sld">Upload SLD</label>
                                            <input type="file" class="form-control" id="upload_sld" name="upload_sld" placeholder="Upload SLD" value="{{project.upload_sld}}">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="card-footer">
                                <button type="submit" class="btn btn-primary">Update</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>
{% endblock content %}
